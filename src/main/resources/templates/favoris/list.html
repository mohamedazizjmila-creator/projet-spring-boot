<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mes Favoris</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>❤️ Mes Favoris</h2>

        <div th:if="${produitsFavoris.empty}">
            <div class="alert alert-info">
                Aucun produit favori.
            </div>
            <a href="/produits" class="btn btn-primary">Voir les produits</a>
        </div>

        <div th:unless="${produitsFavoris.empty}" class="row">
            <div class="col-md-4 mb-3" th:each="produit : ${produitsFavoris}">
                <div class="card">
                    <div class="card-body">
                        <h5 th:text="${produit.nom}"></h5>
                        <p th:text="${produit.description} ?: 'Pas de description'"></p>
                        <p><strong>Prix :</strong> [[${produit.prix}]] €</p>
                        <p><strong>Stock :</strong> [[${produit.quantite}]]</p>
                    </div>
                    <div class="card-footer">
                        <a th:href="@{/favoris/remove/{id}(id=${produit.id})}" class="btn btn-danger btn-sm">Retirer</a>
                        <a th:href="@{/panier/add/{id}(id=${produit.id})}" class="btn btn-primary btn-sm">Ajouter au panier</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div th:unless="${produitsFavoris.empty}">
            <a th:href="@{/favoris/clear}" class="btn btn-warning">Vider tous les favoris</a>
        </div>
    </div>
</body>
</html>